{
  "$schema":
    "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {},
  "variables": {
    "connections_documentdb_1_api_name": "documentdb-1",
    "connections_sql_api_name": "sql",
    "connections_twitter_api_name": "twitter",
    "connections_documentdb_1_name": "CosmosDbConnection",
    "connections_sql_name": "SqlDbConnection",
    "connections_twitter_name": "jakubsikor"
  },
  "resources": [
	{
		"type": "Microsoft.Web/connections",
		"name": "[variables('connections_documentdb_1_api_name')]",
		"apiVersion": "2016-06-01",
		"location": "westeurope",
		"scale": null,
		"properties": {
			"displayName": "[variables('connections_documentdb_1_name')]",
			"customParameterValues": {},
			"api": {
				"id": "/subscriptions/13310137-a445-41cb-a4d9-26fe7bc3eab6/providers/Microsoft.Web/locations/westeurope/managedApis/documentdb"
			}
		},
		"dependsOn": []
	},
	{
		"type": "Microsoft.Web/connections",
		"name": "[variables('connections_sql_api_name')]",
		"apiVersion": "2016-06-01",
		"location": "westeurope",
		"scale": null,
		"properties": {
			"displayName": "[variables('connections_sql_name')]",
			"customParameterValues": {},
			"api": {
				"id": "[concat('/subscriptions/13310137-a445-41cb-a4d9-26fe7bc3eab6/providers/Microsoft.Web/locations/westeurope/managedApis/', variables('connections_sql_api_name'))]"
			}
		},
		"dependsOn": []
	},
	{
		"type": "Microsoft.Web/connections",
		"name": "[variables('connections_twitter_api_name')]",
		"apiVersion": "2016-06-01",
		"location": "westeurope",
		"scale": null,
		"properties": {
			"displayName": "[variables('connections_twitter_name')]",
			"customParameterValues": {},
			"api": {
				"id": "[concat('/subscriptions/13310137-a445-41cb-a4d9-26fe7bc3eab6/providers/Microsoft.Web/locations/westeurope/managedApis/', variables('connections_twitter_api_name'))]"
			}
		},
		"dependsOn": []
	},
    {
      "type": "Microsoft.Logic/workflows",
      "name": "series-azure-workshop",
      "apiVersion": "2017-07-01",
      "location": "westeurope",
      "tags": {},
      "scale": null,
      "properties": {
        "state": "Enabled",
        "parameters": {
          "$connections": {
            "value": {
              "documentdb_1": {
                "connectionId":
                  "[resourceId('Microsoft.Web/connections', variables('connections_documentdb_1_api_name'))]",
                "connectionName": "documentdb-1",
                "id":
                  "/subscriptions/13310137-a445-41cb-a4d9-26fe7bc3eab6/providers/Microsoft.Web/locations/westeurope/managedApis/documentdb"
              },
              "sql": {
                "connectionId":
                  "[resourceId('Microsoft.Web/connections', variables('connections_sql_api_name'))]",
                "connectionName": "sql",
                "id":
                  "[concat('/subscriptions/13310137-a445-41cb-a4d9-26fe7bc3eab6/providers/Microsoft.Web/locations/westeurope/managedApis/', variables('connections_sql_api_name'))]"
              },
              "twitter": {
                "connectionId":
                  "[resourceId('Microsoft.Web/connections', variables('connections_twitter_api_name'))]",
                "connectionName": "twitter",
                "id":
                  "[concat('/subscriptions/13310137-a445-41cb-a4d9-26fe7bc3eab6/providers/Microsoft.Web/locations/westeurope/managedApis/', variables('connections_twitter_api_name'))]"
              }
            }
          }
        }
      },
      "dependsOn": [
        "[resourceId('Microsoft.Web/connections', variables('connections_documentdb_1_api_name'))]",
        "[resourceId('Microsoft.Web/connections', variables('connections_sql_api_name'))]",
        "[resourceId('Microsoft.Web/connections', variables('connections_twitter_api_name'))]"
      ]
    }
  ]
}
